## 6.1 链路层概述
将运行链路层协议的任何设备均称为节点（node）。节点包括主机、路由器、交换机和WiFi接入点。
把沿着通信路径连接相邻节点的通信信道称为链路（link）。
在通过特定的链路时，传输节点将数据报封装在链路层帧中，并将该帧传到链路中。

### 6.1.1 链路层提供的服务
链路层的基本服务是将数据报通过单一通信链路从一个节点移动到相邻节点。链路层协议能提供的服务包括：
- 成帧（framing）
链路层协议将网络层数据报用链路层帧封装起来。一个帧由若干首部字段和数据字段组成，其中网络层数据报就插在数据字段中
- 链路接入
媒体访问控制（Medium Access Control, MAC）协议规定了帧在链路上传输的规则。
- 可靠交付
当链路层协议提供可靠交付服务时，它保证无差错地经链路层移动每个网络层数据报。
许多有线的链路层协议不提供可靠交付服务
- 差错检测和校正
通过让发送节点在帧中包括差错检测比特，让接收节点进行差错检查，以此来完成这项工作。接收方不仅能检测帧中的比特差错，而且能够准确地确定帧中的差错出现的位置（并因此纠正这些差错）。

### 6.1.2 链路层在何处实现
链路层的主体部分是在网络适配器（network adapter ）中实现的，网络适配器也称为网络接口卡（Network Interface Card, NIC）。
位于网络适配器核心的是链路层控制器，该控制器通常是一个实现许多链路层服务（成帧，链路接入，差错检测等）的专用芯片。
链路层控制器的大部分功能是使用硬件实现的，但部分链路层是在软件中实现的。
链路层的软件组件实现了高层链路层的功能，如组装链路层寻址信息和激活控制器硬件。


## 6.2 差错检测和纠正技术
比特级差错检测和纠正（bit-level error detection and correction）, 即对从一个节点发送到另一个物理上连接的邻近节点的链路层帧中的比特损伤进行检测和纠正。
在发送节点，为了保护比特免受差错，使用差错检测和纠正比特（Error-Detection and Correction, EDC）来增强数据D。
![Error-detection and -correction scenario.png](https://upload-images.jianshu.io/upload_images/3515839-5637a25f52f5e04a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

在传输数据中差错检验的3种技术：
- 奇偶校验
用来描述差错检测和纠正背后隐含的基本思想
- 检验和方法
更多地应用于运输层
- 循环冗余检测
通常更多地应用在适配器中的链路层

## 6.3 多路访问链路和协议
两种类型的网络链路：
- 点对点链路（point-to-point link）
由链路一端的单个发送方和链路另一端的单个接收方组成, 如点对点协议（PPP）
- 广播链路（broadcast link）
能够让多个发送和接收节点都连接到相同的、单一的、共享的广播信道上。以太网和无线局域网是广播链路的例子。

节点通过多路访问协议（multiple access protocol）来规范它们在共享的广播信道上的传输行为。
我们能将任何多路访问协议划分为3中类型之一：
- 信道划分协议（channel partioning protocol）
- 随机接入协议（random access control）
- 轮流协议 （ taking-turns protocol）

## 6.4 交换局域网
### 6.4.1链路层寻址和ARP
MAC地址 ：将链路层地址称为MAC地址。
MAC地址的一个有趣性质是没有两块适配器具有相同的MAC地址。
因为存在网络地址（如IP地址）和链路层地址（即MAC地址），需要在它们之间转换，这是地址解析协议（Address Resolution Protocol， ARP）的任务。

### 6.4.2 以太网
以太网几乎占领着现有的有限局域网市场。
以太网帧结构：
![Ethernet frame structure.png](https://upload-images.jianshu.io/upload_images/3515839-20ced177734c39ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



